(this["webpackJsonpfs1-cocolito-front"]=this["webpackJsonpfs1-cocolito-front"]||[]).push([[0],{40:function(e,t,a){e.exports=a(69)},45:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(45),a(15)),i=a(14),s=a(39),u=a(16),m={IsAuth:null!==localStorage.getItem("token")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("login sucess"),Object(u.a)(Object(u.a)({},e),{},{IsAuth:!0});case"LOGIN_ERROR":return console.log("login error"),Object(u.a)(Object(u.a)({},e),{},{IsAuth:!1});case"SIGNOUT_SUCCESS":return console.log("signout success"),Object(u.a)(Object(u.a)({},e),{},{IsAuth:!1});default:return e}},p={projects:[{id:"1",title:"Zbeub",content:"Lorem"},{id:"2",title:"Zbaub",content:"Lorem"},{id:"3",title:"Zboub",content:"Lorem"}]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e},E=Object(o.c)({auth:d,project:h}),f=a(2),b=a(8),v=Object(b.a)(),g=a(10),j=a(19),O=a.n(j),N=Object(i.b)(null,(function(e){return{signOut:function(){return e((function(e){localStorage.removeItem("token"),localStorage.removeItem("id"),e({type:"SIGNOUT_SUCCES"})}))}}}))((function(e){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(g.b,{to:"/create"},"New content")),r.a.createElement("li",null,r.a.createElement("a",{href:"/signin",onClick:e.signOut},"Log Out")),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/profile",className:"btn btn-floating pink lighten-1"},"PRFL")))})),y=function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(g.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/signin"},"Login")))},S=Object(i.b)((function(e){return{auth:e}}))((function(e){var t=e.auth;console.log(t.auth);var a=t.auth.IsAuth?r.a.createElement(N,null):r.a.createElement(y,null);return r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(g.a,{to:"/",className:"brand-logo"},"Cocolito"),a))})),w=a(3),k=a(4),C=a(6),I=a(5),x=function(e){var t=e.project;return r.a.createElement("div",{className:"card z-depth-0 project-summary"},r.a.createElement("div",{className:"card-content green-text text-darken-3"},r.a.createElement("span",{className:"card-title"},t.title),r.a.createElement("p",null,"Posted by",t.author),r.a.createElement("p",{className:"grey-text"},"3rd September, 2am")))},L=function(e){var t=e.projects;return r.a.createElement("div",{className:"project-list section"},t&&t.map((function(e){return r.a.createElement(g.a,{to:"/project/".concat(e.id),key:e.id},r.a.createElement(x,{project:e}))})))},_=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={projects:[{id:"10",title:"Kikou",content:"Lorem",author:"Akisen"},{id:"20",title:"Zbaub",content:"Lorem",author:"Quentin"},{id:"30",title:"Zboub",content:"Lorem",author:"Quantify"}]},n}return Object(k.a)(a,[{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(L,{projects:e.projects}))))}}]),a}(r.a.Component),A=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={project_details:{}},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({project_details:{id:e,title:"Ma journ\xe9e",content:"Bonjour tout le monde",author:"Akisen",userid:"45"}})}},{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},e.project_details.title,"-",e.project_details.id),r.a.createElement("p",null,e.project_details.content)),r.a.createElement("div",{className:"card-action grey lighten-4 green-text"},r.a.createElement(g.a,{to:"/profile/".concat(e.project_details.userid),key:e.project_details.userid},r.a.createElement("div",null,"Posted by",e.project_details.author)),r.a.createElement("div",null,"2nd September, 2am"))))}}]),a}(r.a.Component),U=a(17),F=a.n(U),P=a(23),z="https://fs1-cocolito-server.herokuapp.com";function R(e,t,a){return G.apply(this,arguments)}function G(){return(G=Object(P.a)(F.a.mark((function e(t,a,n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(z,"/users/register"),{username:t,email:a,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(P.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,O.a.get("".concat(z,"/users/profile"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",id:"",email:""},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return D.apply(this,arguments)})().then((function(t){e.setState({username:t.data.username,id:t.data.id,email:t.data.email})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,"Mon profile"),r.a.createElement("h5",null,"Username : ",this.state.username),r.a.createElement("h5",null,"Id : ",this.state.id),r.a.createElement("h5",null,"Email : ",this.state.email)))}}]),a}(r.a.Component),B=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement("div",null,"Profile -",e)}}]),a}(r.a.Component),M=a(13),T=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(M.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(k.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Login"))))}}]),a}(r.a.Component),J=Object(i.b)((function(e){return e}),(function(e){return{signIn:function(t){return e((a=t,function(e){return O.a.post("https://fs1-cocolito-server.herokuapp.com/users/login",{email:a.email,password:a.password}).then((function(t){localStorage.setItem("token",t.data.token),localStorage.setItem("id",t.data.id),e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(T),Q=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",username:"",password:""},e.handleChange=function(t){e.setState(Object(M.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),R(e.state.username,e.state.email,e.state.password).then((function(e){v.push("/signin")})).catch((function(e){alert(e)}))},e}return Object(k.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Sign up"))))}}]),a}(r.a.Component),W=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:"",content:""},e.handleChange=function(t){e.setState(Object(M.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state)},e}return Object(k.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Project"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"content"},"Project Content"),r.a.createElement("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create"))))}}]),a}(r.a.Component);var K=function(){return r.a.createElement(f.b,{history:v},r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:_}),r.a.createElement(f.a,{path:"/project/:id",component:A}),r.a.createElement(f.a,{path:"/signin",component:J}),r.a.createElement(f.a,{path:"/signup",component:Q}),r.a.createElement(f.a,{path:"/create",component:W}),r.a.createElement(f.a,{exact:!0,path:"/profile",component:Z}),r.a.createElement(f.a,{path:"/profile/:id",component:B}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=Object(o.d)(E,Object(o.a)(s.a));l.a.render(r.a.createElement(i.a,{store:$},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.77253cd9.chunk.js.map